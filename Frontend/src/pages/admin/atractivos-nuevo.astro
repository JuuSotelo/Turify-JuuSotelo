---
import AdminPanel from "../../components/AdminPanel.astro";
import { AdminMenu } from "../../components/AdminMenu";

let mensaje = "";
if (Astro.request.method === "POST") {
  const data = await Astro.request.formData();
  // Aquí deberías guardar el atractivo en la base de datos
  // Ejemplo usando fetch:
  // await fetch('http://localhost:3000/api/atractivos', {
  //   method: 'POST',
  //   body: data,
  // });
  mensaje = "Atractivo agregado correctamente (simulado)";
}
---

<link rel="stylesheet" href="/src/style/atractivos-nuevo.css">

<AdminPanel menu={AdminMenu}>
    <div class="admin-content">
      <h1>Agregar nuevo atractivo turístico</h1>
      {mensaje && <div class="mensaje">{mensaje}</div>}
      <form method="POST" class="form-atractivo">
        <label>
          Nombre:
          <input type="text" name="nombre" required />
        </label>
        <label>
          Ubicación:
          <input type="text" name="ubicacion" required />
        </label>
        <label>
          Categoría:
          <input type="text" name="categoria" required />
        </label>
        <div class="form-atractivo-buttons">
          <button type="submit" class="btn-nuevo">Agregar</button>
          <a href="/admin/atractivos" class="btn-cancelar">Cancelar</a>
        </div>
      </form>
    </div>
</AdminPanel>